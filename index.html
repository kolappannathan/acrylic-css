<html>

  <head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="./dist/acrylic.min.css">
  </head>

  <body>
    <main class="container-fluid mt-4">
      <div class="nk-acrylic acrylic-cards text-center fw-bold">
        <br /><br /><br />
        <h1 style="color:black;">Acrylic CSS Demo</h1>
        <br /><br /> Photo by <a href="https://unsplash.com/@v2osk?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">v2osk</a>
        on <a href="https://unsplash.com/photos/foggy-mountain-summit-1Z2niiBPg5A?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>.
        <br /><br /> You can also enter a image URL manually.
        <br /><br /> Enter new image url here
        <input id="img-input" type="text" value="">
        <button class="btn btn-primary" onclick="changebg()">Change background</button>
        <br /><br />
        <button class="btn btn-primary" onclick="location.reload()">Reload image</button>
        <br /><br />
        <div class="nk-acrylic acrylic-cards pt-5 pb-5 mb-5 text-center fw-bold">
          This is an acrylic within acrylic
        </div>
      </div>
    </main>
  </body>

  <script>
    document.onload = function () {
      window.isFirstTime = true;
    };

    function changebg() {

      // deleting previously set rules
      if (window.isFirstTime == false) {
        document.styleSheets[document.styleSheets.length - 1].deleteRule(window.nkRuleIndex);
      }
      window.isFirstTime = false;

      let newurl = document.getElementById("img-input").value;

      // setting bg-image for body
      let elements = document.getElementsByTagName("body");
      for (let i = 0; i < elements.length; i++) {
        elements[i].style.backgroundImage = "url(" + newurl + ")";
      }

      // setting psudo class for nk-acrylic by using a new class
      let el = document.getElementsByClassName("nk-acrylic");
      for (let i = 0; i < el.length; i++) {
        el[i].classList.remove("nk-new-acrylic");
        el[i].classList.add("nk-new-acrylic");
      }
      window.nkRuleIndex = document.styleSheets[document.styleSheets.length - 1].insertRule('.nk-new-acrylic:before{background-image:url("' + newurl + '");}', 0);
    }
  </script>

</html>